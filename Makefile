# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: miandrad <miandrad@student.42lisboa.com    +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2023/01/27 16:09:52 by miandrad          #+#    #+#              #
#    Updated: 2023/02/24 13:21:45 by miandrad         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

#	3 numbers -> 2 or 3 moves
#	5 numbers -> <=12 moves
#	100 numbers:
#		<=700 moves = 5pts
#		<=900 numbers = 4pts
#		<=1,100 numbers = 3pts
#		<=1,300 numbers = 2pts
#		<=1,500 numbers = 1pts
#	500 numbers:
#		<=5,500 moves = 5pts
#		<=7,000 moves = 4pts
#		<=8,500 moves = 3pts
#		<=10,000 moves = 2pts
#		<=11,500 moves = 1pts

NAME = push_swap

BONUS = checker

CC = cc

RM = rm -rf

CFLAGS = -Wall -Wextra -Werror

LIB = push_swap.a

B_LIB = checker.a

SRC = main.c moves.c moves_two.c moves_trhee.c sort.c sort_pt.c checker.c helper.c helper_two.c

B_SRC = main.c moves.c moves_two.c moves_trhee.c replicate.c get_next_line_100/get_next_line.c get_next_line_100/get_next_line_utils.c

OBJ = $(SRC:.c=.o)

B_OBJ = $(B_SRC:.c=.o)

ARG = 174 201 409 412 -386 -472 124 135 49 -157 143 384 -494 -498 -269 167 359 -99 -93 -267 383 112 -284 -480 404 -426 -358 20 457 441 -305 -167 -51 370 -154 63 83 -256 183 -184 -260 310 238 336 -401 129 266 -133 323 77 485 -18 -349 419 420 -103 -186 -81 260 471 233 173 -335 -24 42 -364 -353 -225 -384 136 -355 38 -209 -399 376 247 46 -140 -252 27 -449 123 -220 425 466 -86 -320 242 -200 343 -423 291 -345 277 367 468 29 497 58 -437 -171 130 -359 -481 -408 -488 258 -380 222 87 -110 -96 -407 -368 82 -390 -28 -162 -191 -500 -474 145 -287 -274 -319 478 -183 -196 -321 -346 446 -282 219 344 223 186 464 187 34 -164 -101 -224 -165 -100 17 -442 -6 486 350 -242 -89 -142 349 13 -20 -492 -222 68 -121 -485 161 -127 -385 -124 138 -332 -342 -36 269 -415 -179 451 463 152 379 296 -47 226 11 357 -67 316 243 -9 -405 25 -63 -288 75 472 -299 170 -422 39 185 -271 395 -232 332 345 -339 154 -295 60 -25 -105 172 -168 -235 159 79 240 364 371 490 467 150 -414 -460 400 94 -469 102 196 430 -119 7 -22 -16 -459 -80 462 -340 -263 461 292 -38 -153 414 199 -486 -441 315 418 -264 -75 9 -95 182 333 255 256 -208 230 -182 483 14 362 -68 -138 100 202 324 -352 -416 -30 -268 -317 -211 169 393 245 -3 -462 -113 -73 32 375 194 -239 -23 -265 -400 -377 -302 306 -348 -248 369 317 454 -66 115 -465 -330 -37 455 241 70 294 295 -83 -285 51 303 225 392 36 -173 -393 -436 -483 -141 434 -427 431 -354 289 328 -163 -244 318 69 239 215 30 -275 -347 -404 331 210 231 339 -193 -496 -249 -109 -216 -451 110 -210 308 -219 227 -491 -306 -366 1 -310 -350 -187 214 -84 54 19 116 142 64 -130 329 62 -69 104 326 -76 -478 365 131 133 259 -471 125 -430 -174 217 213 432 494 340 147 -277 348 103 301 236 -253 319 141 399 197 -458 -126 -398 -56 -445 151 -257 61 -176 -143 -65 -454 -333 53 459 -160 -112 139 257 290 391 -195 163 -294 -357 -467 10 -479 -376 128 -166 176 -33 -125 93 -233 155 -70 -497 73 237 252 -32 -226 -97 -48 -411 -64 280 500 71 -444 92 -387 148 23 221 410 95 66 45 380 -72 449 322 -406 372 394 -212 -85 382 111 435 -419 2 -147 338 -189 413 -158 235 -94 -382 254 314 -172 417 -135 -237 118 -59 -240 302 181 -236 -145 -228 -440 96 188 476 427 -289 206 -438 203 480 -139 -499 -301

all: $(NAME)

bonus:	$(BONUS)

$(NAME): $(addprefix SRC/,$(OBJ)) push_swap.h
	@make -s -C ft_printf
	@ar rcs $(LIB) $(addprefix SRC/,$(OBJ))
	@$(CC) $(LIB) ft_printf/libftprintf.a -o $(NAME)

$(BONUS): $(addprefix Bonus/,$(B_OBJ))
	@make -s -C ft_printf
	@ar rcs $(addprefix Bonus/,$(B_LIB)) $(addprefix Bonus/,$(B_OBJ))
	@$(CC) $(addprefix Bonus/,$(B_LIB)) ft_printf/libftprintf.a -o $(BONUS)

run: $(NAME)
	@./push_swap $(ARG)

check: $(NAME) $(BONUS)
	@./push_swap $(ARG) | ./checker $(ARG)

valgrind: $(NAME)
	@valgrind --leak-check=full ./push_swap $(ARG)

git: fclean
	@git add .
	@git commit
	@git push
	@echo " -------Commited and Pushed------- "

clean: 
	@$(RM) $(addprefix SRC/,$(OBJ))
	@$(RM) $(addprefix Bonus/,$(B_OBJ))
	@make clean -s -C ft_printf

fclean: clean  
	@make fclean -s -C ft_printf
	@$(RM) $(NAME) $(LIB) $(BONUS) Bonus/$(B_LIB)

re: fclean all